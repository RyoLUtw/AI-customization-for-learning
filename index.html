import React from "react";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/ui/tabs";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import { ScrollArea } from "@/components/ui/scroll-area";
import { Button } from "@/components/ui/button";
import { CheckCircle2, BookOpen, ListChecks, Lightbulb, Sparkles } from "lucide-react";

// --- Utility components ---
const Section = ({ id, title, children }: { id: string; title: string; children: React.ReactNode }) => (
  <section id={id} className="scroll-mt-24">
    <h2 className="text-2xl md:text-3xl font-bold mb-4">{title}</h2>
    <Separator className="mb-4" />
    {children}
  </section>
);

const Keyword = ({ word, explain, example }: { word: string; explain: string; example: string }) => (
  <Card className="shadow-sm">
    <CardHeader className="pb-2">
      <CardTitle className="text-lg">{word}</CardTitle>
    </CardHeader>
    <CardContent className="space-y-2">
      <p><span className="font-medium">Easy explanation:</span> {explain}</p>
      <p className="text-sm italic opacity-80">Example prompt: {example}</p>
    </CardContent>
  </Card>
);

export default function BuildABotGuide() {
  return (
    <div className="min-h-screen bg-white text-gray-900">
      {/* Header */}
      <header className="sticky top-0 z-40 border-b bg-white/90 backdrop-blur">
        <div className="mx-auto max-w-7xl px-4 py-3 flex items-center gap-3">
          <Sparkles className="h-6 w-6" />
          <div>
            <h1 className="text-xl md:text-2xl font-bold leading-tight">Build‑a‑Bot Vocabulary & Prompt Guide</h1>
            <p className="text-xs md:text-sm text-gray-600">Design how your AI should teach you — with clear tone, connections, approach, motivation, and pacing.</p>
          </div>
        </div>
      </header>

      {/* Layout */}
      <div className="mx-auto max-w-7xl px-4 py-6 grid grid-cols-1 md:grid-cols-[280px_1fr] gap-6">
        {/* Sidebar */}
        <aside className="md:sticky md:top-20 h-fit">
          <Card className="shadow-sm">
            <CardHeader className="pb-2">
              <CardTitle className="text-base flex items-center gap-2"><BookOpen className="h-4 w-4"/>Navigation</CardTitle>
            </CardHeader>
            <CardContent>
              <nav className="flex flex-col gap-2 text-sm">
                <a href="#design" className="hover:underline">Design Concept</a>
                <a href="#examples" className="hover:underline">Example Prompts</a>
                <a href="#guiding" className="hover:underline">Guiding Questions</a>
                <a href="#vocab" className="hover:underline">Vocabulary List</a>
              </nav>
            </CardContent>
          </Card>
        </aside>

        {/* Main content */}
        <main className="space-y-12">
          {/* Design Concept */}
          <Section id="design" title="Design Concept (Blueprint Build‑a‑Bot)">
            <div className="grid gap-4 md:grid-cols-2">
              <Card className="shadow-sm">
                <CardHeader className="pb-2">
                  <CardTitle className="text-lg">Concept Overview</CardTitle>
                </CardHeader>
                <CardContent className="space-y-2 text-sm text-gray-700">
                  <p>Use a blueprint/exploded‑view robot to represent customizable learning preferences. Each module maps to a teaching setting:</p>
                  <ul className="list-disc ml-5 space-y-1">
                    <li><b>Brain Chip</b> → Tone/Personality</li>
                    <li><b>Vision Sensor</b> → Knowledge Connections to real life</li>
                    <li><b>Tools Pack</b> → Teaching Approach</li>
                    <li><b>Energy Source</b> → Motivation & Interests</li>
                    <li><b>Gear Settings</b> → Pacing & Challenge</li>
                  </ul>
                  <p className="pt-2">Placeholders: add your final blueprint image, school logo, and quick instructions for students here.</p>
                </CardContent>
              </Card>

              <Card className="shadow-sm">
                <CardHeader className="pb-2">
                  <CardTitle className="text-lg">Classroom Flow (at a glance)</CardTitle>
                </CardHeader>
                <CardContent className="text-sm text-gray-700 space-y-2">
                  <ol className="list-decimal ml-5 space-y-1">
                    <li>Students complete a short interest survey.</li>
                    <li>Build‑a‑Bot activity to pick modules.</li>
                    <li>Browse tone/connection vocabulary.</li>
                    <li>Read example prompts (tabs), then draft their own.</li>
                    <li>Peer‑review and refine.</li>
                  </ol>
                </CardContent>
              </Card>
            </div>
          </Section>

          {/* Example Prompts with Tabs */}
          <Section id="examples" title="Example Prompts (Tabbed)">
            <Tabs defaultValue="ex1" className="w-full">
              <TabsList className="flex flex-wrap gap-2">
                <TabsTrigger value="ex1">Example 1</TabsTrigger>
                <TabsTrigger value="ex2">Example 2</TabsTrigger>
                <TabsTrigger value="ex3">Example 3</TabsTrigger>
              </TabsList>

              <TabsContent value="ex1" className="mt-4">
                <Card className="shadow-sm">
                  <CardHeader>
                    <CardTitle className="text-lg">Example 1 — Expert · Daily Life · Worked Example → Try It · Gaming · Easy → Hard</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-4 text-sm text-gray-800">
                    <p><b>When we are in study mode, use these preferences.</b></p>
                    <p><b>Tone:</b> Use a knowledgeable expert voice that is clear and patient, leaning slightly professional rather than casual.</p>
                    <p><b>Knowledge Connection:</b> Always relate ideas to everyday situations I meet at home, school, or shopping.</p>
                    <p><b>Approach:</b> Show a complete worked example, then give me a similar problem to try. Check my attempt and explain mistakes.</p>
                    <p><b>Motivation/Interest:</b> When helpful, use gaming themes like levels, strategy, and trade‑offs to keep me engaged.</p>
                    <p><b>Pacing:</b> Start easy and increase difficulty gradually once I succeed with each step.</p>
                  </CardContent>
                </Card>
              </TabsContent>

              <TabsContent value="ex2" className="mt-4">
                <Card className="shadow-sm">
                  <CardHeader>
                    <CardTitle className="text-lg">Example 2 — Storyteller · Hobbies + Careers · Creative Task · Music + Cooking + Future Skills · Quick Wins</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-4 text-sm text-gray-800">
                    <p><b>When guiding me in study mode, please follow these preferences.</b></p>
                    <p><b>Tone:</b> Tell short, clear stories to explain ideas, keeping it imaginative but informative.</p>
                    <p><b>Knowledge Connection:</b> Link concepts to my hobbies and show how they could appear in real jobs.</p>
                    <p><b>Approach:</b> Use small creative tasks to let me build or design something that applies the concept.</p>
                    <p><b>Motivation/Interest:</b> Draw from music, cooking, and preparing future skills whenever it fits naturally.</p>
                    <p><b>Pacing:</b> Provide frequent small wins so I feel steady progress.</p>
                  </CardContent>
                </Card>
              </TabsContent>

              <TabsContent value="ex3" className="mt-4">
                <Card className="shadow-sm">
                  <CardHeader>
                    <CardTitle className="text-lg">Example 3 — Expert · Careers + Values · Big Picture First · Education + Technology + Law/Policy · Deep Dives</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-4 text-sm text-gray-800">
                    <p><b>While supporting me in learning mode, please follow these guidelines.</b></p>
                    <p><b>Tone:</b> Professional and precise with well‑organized structure.</p>
                    <p><b>Knowledge Connection:</b> Show how the topic connects to career paths and the values I care about, like fairness and responsibility.</p>
                    <p><b>Approach:</b> Start with the overall framework, then move into components.</p>
                    <p><b>Motivation/Interest:</b> Use examples from education, technology, and policy to make the learning feel impactful.</p>
                    <p><b>Pacing:</b> Go deep rather than fast; provide context and implications before advancing.</p>
                  </CardContent>
                </Card>
              </TabsContent>
            </Tabs>
          </Section>

          {/* Guiding Questions (placeholder) */}
          <Section id="guiding" title="Guiding Questions (Student Worksheet Placeholders)">
            <div className="grid gap-4 md:grid-cols-2">
              <Card className="shadow-sm">
                <CardHeader className="pb-2"><CardTitle className="text-lg">Before You Write</CardTitle></CardHeader>
                <CardContent className="text-sm text-gray-700 space-y-2">
                  <ul className="list-disc ml-5 space-y-1">
                    <li>What outcome do you want (understand/apply/create)?</li>
                    <li>Which interests or life skills should new topics connect to?</li>
                    <li>What tone helps you stay focused?</li>
                    <li>Which formats help (tables, diagrams, step‑by‑step)?</li>
                    <li>How should the challenge change if it’s too easy or too hard?</li>
                  </ul>
                </CardContent>
              </Card>
              <Card className="shadow-sm">
                <CardHeader className="pb-2"><CardTitle className="text-lg">Copy‑into‑Prompt Frame</CardTitle></CardHeader>
                <CardContent className="text-sm text-gray-700 space-y-2">
                  <p><span className="font-medium">Starter:</span> When we are in study mode, follow these preferences.</p>
                  <p><span className="font-medium">Tone:</span> …  <span className="font-medium">Connections:</span> …  <span className="font-medium">Approach:</span> …</p>
                  <p><span className="font-medium">Motivation:</span> …  <span className="font-medium">Pacing:</span> …</p>
                </CardContent>
              </Card>
            </div>
          </Section>

          {/* Vocabulary (Tabbed) */}
          <Section id="vocab" title="Vocabulary List (Tabbed by Parameter)">
            <Tabs defaultValue="tone" className="w-full">
              <TabsList className="flex flex-wrap gap-2">
                <TabsTrigger value="tone">Tone</TabsTrigger>
                <TabsTrigger value="connections">Knowledge Connections</TabsTrigger>
                <TabsTrigger value="approach">Approach</TabsTrigger>
                <TabsTrigger value="motivation">Motivation & Interests</TabsTrigger>
                <TabsTrigger value="pacing">Pacing</TabsTrigger>
              </TabsList>

              {/* Tone tab */}
              <TabsContent value="tone" className="mt-4 space-y-6">
                <h3 className="text-xl font-semibold">Expert</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <Keyword word="Precise" explain="very exact and clear" example="Please explain concepts in a precise way so that every detail is correct and easy to follow."/>
                  <Keyword word="Logical" explain="based on reason and clear thinking" example="Give explanations that are logical, showing each step in clear order."/>
                  <Keyword word="Formal" explain="serious and professional style" example="Use a formal tone as if writing an academic explanation."/>
                  <Keyword word="Confident" explain="sure and certain" example="Answer in a confident tone so I can trust the information."/>
                  <Keyword word="Structured" explain="well organized, step by step" example="Organize answers in a structured way from basics to advanced."/>
                </div>

                <h3 className="text-xl font-semibold mt-8">Coach</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <Keyword word="Encouraging" explain="supportive; helps you keep going" example="Use an encouraging tone so I feel motivated even if I make mistakes."/>
                  <Keyword word="Motivational" explain="adds energy and inspiration" example="Be motivational by reminding me that progress is possible if I stay focused."/>
                  <Keyword word="Direct" explain="clear and straight to the point" example="Be direct in your answers so I don’t get lost in extra details."/>
                  <Keyword word="Firm" explain="strong and steady" example="Keep a firm tone to guide me when I get distracted."/>
                  <Keyword word="Supportive" explain="caring and helpful" example="Sound supportive so I feel safe asking questions."/>
                </div>

                <h3 className="text-xl font-semibold mt-8">Study Buddy</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <Keyword word="Casual" explain="relaxed, everyday style" example="Use a casual style so it feels like I’m learning with a friend."/>
                  <Keyword word="Friendly" explain="warm and kind" example="Keep your answers friendly so I feel comfortable while studying."/>
                  <Keyword word="Relaxed" explain="calm, not rushed" example="Speak in a relaxed way to reduce stress on hard topics."/>
                  <Keyword word="Approachable" explain="easy to talk to" example="Be approachable so I feel free to ask follow‑up questions."/>
                  <Keyword word="Simple" explain="easy to understand" example="Explain in a simple way using short sentences and clear examples."/>
                </div>

                <h3 className="text-xl font-semibold mt-8">Storyteller</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <Keyword word="Imaginative" explain="creative, paints pictures in the mind" example="Teach in an imaginative way with creative examples that paint a picture."/>
                  <Keyword word="Playful" explain="fun and light" example="Make your tone playful so learning feels enjoyable."/>
                  <Keyword word="Engaging" explain="holds attention" example="Be engaging so I stay focused and want to continue."/>
                  <Keyword word="Descriptive" explain="rich in detail" example="Give descriptive examples that help me see the idea clearly."/>
                  <Keyword word="Expressive" explain="shows feeling" example="Use an expressive tone so I feel the importance of the lesson."/>
                </div>
              </TabsContent>

              {/* Knowledge Connections tab (placeholder content) */}
              <TabsContent value="connections" className="mt-4 space-y-4">
                <p className="text-sm text-gray-700">Add vocabulary for connecting to Hobbies, Daily Life, Jobs/Careers, and Values. (Placeholders ready for your lists.)</p>
              </TabsContent>

              {/* Approach tab (placeholder) */}
              <TabsContent value="approach" className="mt-4 space-y-4">
                <p className="text-sm text-gray-700">Add vocabulary for teaching approaches: Step‑by‑Step, Big Picture First, Worked Example → Try It, Practice Quiz, Creative Task. (Placeholders.)</p>
              </TabsContent>

              {/* Motivation tab (placeholder) */}
              <TabsContent value="motivation" className="mt-4 space-y-4">
                <p className="text-sm text-gray-700">Add vocabulary for interests and motivations (e.g., Sports, Music, Gaming, Cooking, Future Skills). (Placeholders.)</p>
              </TabsContent>

              {/* Pacing tab (placeholder) */}
              <TabsContent value="pacing" className="mt-4 space-y-4">
                <p className="text-sm text-gray-700">Add vocabulary for pacing and challenge (Easy → Hard, Hard → Easy, Quick Wins, Deep Dives). (Placeholders.)</p>
              </TabsContent>
            </Tabs>
          </Section>

          {/* Footer */}
          <div className="text-xs text-gray-500 py-6">
            Built for classroom use • Sidebar links jump to each section • Tabs organize examples and vocabulary.
          </div>
        </main>
      </div>
    </div>
  );
}
